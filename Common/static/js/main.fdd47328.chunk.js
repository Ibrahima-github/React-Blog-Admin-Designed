(this["webpackJsonpblog-admin"]=this["webpackJsonpblog-admin"]||[]).push([[0],{36:function(e,t,a){},47:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(1),i=a.n(r),n=a(19),s=a.n(n),c=(a(47),a(7)),o=a(8),l=a(12),d=a(11),j=a(2),u=a(14),h=a(62),b=a(58),p=a(40),m=a(63),O=a(64),x=a(59),f=a(0),g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).photofilename="anonymous.png",r.imagesrc=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API:"https://ibrahima-aspnetcore-webapi.herokuapp.com/api/"}).REACT_APP_PHOTOPATH+r.photofilename,r.state={category:[]},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.handleFileSelected=r.handleFileSelected.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/categories").then((function(e){return e.json()})).then((function(t){e.setState({category:t})}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/posts",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({PostName:e.target.PostName.value,Category:e.target.Category.value,PostDescription:e.target.PostDescription.value,PostYoutubeHref:e.target.PostYoutubeHref.value,AdsTitle:e.target.AdsTitle.value,AdsImageFileName:this.imagesrc,AdsLink:e.target.AdsLink.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"handleFileSelected",value:function(e){var t=this;e.preventDefault(),this.photofilename=e.target.files[0].name;var a=new FormData;a.append("myFile",e.target.files[0],e.target.files[0].name),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/Posts/SaveFile",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){t.imagesrc=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API:"https://ibrahima-aspnetcore-webapi.herokuapp.com/api/"}).REACT_APP_PHOTOPATH+e,console.log({result:e})}),(function(e){alert("Failed")}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un Post"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"Post",children:[Object(f.jsx)(m.a.Label,{children:"Cr\xe9ation d'un post"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostName",required:!0,placeholder:"Entrez un titre"}),Object(f.jsx)(m.a.Control,{as:"select",name:"Category",children:this.state.category.map((function(e){return Object(f.jsx)("option",{children:e.CategoryName},e.CategoryId)}))}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostDescription",required:!0,placeholder:"Entrez une description"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostYoutubeHref",required:!0,placeholder:"Entrez l'url youtube de la vid\xe9o"}),Object(f.jsx)(m.a.Control,{type:"text",name:"AdsTitle",required:!0,placeholder:"Entrez le titre de votre pub"}),Object(f.jsx)(m.a.Control,{type:"text",name:"AdsLink",required:!0,placeholder:"Entrez l'url de votre pub"})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Ajouter un Post"})})]})}),Object(f.jsxs)(p.a,{sm:6,children:[Object(f.jsx)(x.a,{width:"200px",height:"200px",src:this.imagesrc}),Object(f.jsx)("input",{onChange:this.handleFileSelected,type:"File"})]})]})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/posts",{method:"PUT",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({PostId:e.target.PostId.value,PostName:e.target.PostName.value,Category:e.target.Category.value,PostDescription:e.target.PostDescription.value,PostYoutubeHref:e.target.PostYoutubeHref.value,AdsTitle:e.target.AdsTitle.value,AdsImageFileName:this.photofilename,AdsLink:e.target.AdsLink.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Modifier une cat\xe9gorie"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"CategoryId",children:[Object(f.jsx)(m.a.Label,{children:"ID du post"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostId",required:!0,disabled:!0,defaultValue:this.props.postid})]}),Object(f.jsxs)(m.a.Group,{controlId:"PostName",children:[Object(f.jsx)(m.a.Label,{children:"Titre du post"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostName",required:!0,defaultValue:this.props.postname})]}),Object(f.jsxs)(m.a.Group,{controlId:"Category",children:[Object(f.jsx)(m.a.Label,{children:"Categorie du post"}),Object(f.jsx)(m.a.Control,{type:"text",name:"Category",required:!0,defaultValue:this.props.postcategory})]}),Object(f.jsxs)(m.a.Group,{controlId:"PostDescription",children:[Object(f.jsx)(m.a.Label,{children:"Description du post"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostDescription",required:!0,defaultValue:this.props.postdescription})]}),Object(f.jsxs)(m.a.Group,{controlId:"PostYoutubeHref",children:[Object(f.jsx)(m.a.Label,{children:"Url de la vid\xe9o"}),Object(f.jsx)(m.a.Control,{type:"text",name:"PostYoutubeHref",required:!0,disabled:!0,defaultValue:this.props.postyoutubehref})]}),Object(f.jsxs)(m.a.Group,{controlId:"ImageFileName",children:[Object(f.jsx)(m.a.Label,{children:"Nom de l'image publicitaire"}),Object(f.jsx)(m.a.Control,{type:"text",name:"ImageFileName",required:!0,defaultValue:this.props.postimagefilename})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Mettre \xe0 jour"})})]})})})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),y=a(60),C=a(61),S=a(22),w=a.n(S),P=a(26),N=a(9),k=a(10),U=a(23),A=function(){var e=Object(r.useState)(!1),t=Object(N.a)(e,2),a=t[0],i=t[1],n=function(){var e=Object(P.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs/logout",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include"});case 2:t=e.sent,console.log(t),i(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?Object(f.jsx)(k.a,{to:"/"}):Object(f.jsxs)("nav",{id:"nav-wrap",children:[Object(f.jsx)("a",{className:"mobile-btn",href:"#nav-wrap",title:"Show navigation",children:"Show navigation"}),Object(f.jsx)("a",{className:"mobile-btn",href:"#home",title:"Hide navigation",children:"Hide navigation"}),Object(f.jsxs)("ul",{id:"nav",className:"nav",style:{justifyContent:"center"},children:[Object(f.jsx)("li",{className:"current",children:Object(f.jsx)(U.b,{to:"/posts",children:"Posts"})}),Object(f.jsx)("li",{children:Object(f.jsx)(U.b,{to:"/categories",children:"Cat\xe9gories"})}),Object(f.jsx)("li",{children:Object(f.jsx)(U.b,{to:"/utilisateurs",children:"Utilisateurs"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://ibrahimasall.com",target:"_blank",children:"R\xe9alisations"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"https://blog.ibrahimasall.com",target:"_blank",children:"Blog"})}),Object(f.jsx)("li",{style:{margin:10},children:Object(f.jsx)(O.a,{onClick:n,children:"Logout"})})]})]})},I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={post:[],addModalShow:!1,editModalShow:!1,UtilisateurUsername:!1},r}return Object(o.a)(a,[{key:"refreshList",value:function(){var e=this;fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/posts").then((function(e){if(console.log(e),200===e.status)return e.json();throw console.log(e.status),e})).then((function(t){console.log(t),e.setState({post:t.reverse()})})).catch((function(e){console.error(e.message)}))}},{key:"componentDidMount",value:function(){this.refreshList()}},{key:"componentDidUpdate",value:function(){this.refreshList()}},{key:"deletePost",value:function(e){window.confirm("\xcates vous s\xfbr de vouloir supprimer ?")&&fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/posts/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){alert(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.post,r=t.postid,i=t.postname,n=t.postcategory,s=t.postarticleuploaddate,c=t.postdescription,o=t.postyoutubehref,l=t.postimagefilename,d=function(){return e.setState({editModalShow:!1})};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("nav",{id:"nav-wrap",children:[Object(f.jsx)("a",{className:"mobile-btn",href:"#nav-wrap",title:"Show navigation",children:"Show navigation"}),Object(f.jsx)("a",{className:"mobile-btn",href:"#home",title:"Hide navigation",children:"Hide navigation"}),Object(f.jsx)(A,{})]}),"  ",Object(f.jsxs)("div",{style:{marginTop:60,justifyContent:"center"},children:[Object(f.jsx)("h3",{children:"This is Posts page"}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-right",children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})},children:"Ajouter un post"}),Object(f.jsx)(g,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}})]})}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-left",children:Object(f.jsxs)(C.a,{className:"mt-4",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{className:"m-2",children:[Object(f.jsx)("th",{children:"Post Id"}),Object(f.jsx)("th",{children:"Post Name"}),Object(f.jsx)("th",{children:"Category"}),Object(f.jsx)("th",{children:"Article upload date"}),Object(f.jsx)("th",{children:"Post Description"}),Object(f.jsx)("th",{children:"Post Youtube Href"})]})}),Object(f.jsx)("tbody",{children:a.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.PostId}),Object(f.jsx)("td",{children:t.PostName}),Object(f.jsx)("td",{children:t.Category}),Object(f.jsx)("td",{children:t.ArticleUploadDate}),Object(f.jsx)("td",{children:t.PostDescription}),Object(f.jsx)("td",{children:t.PostYoutubeHref}),Object(f.jsx)("td",{children:t.ImageFileName}),Object(f.jsx)("td",{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{className:"mr-2",variant:"info",onClick:function(){return e.setState({editModalShow:!0,postid:t.PostId,postname:t.PostName,postcategory:t.Category,postarticleuploaddate:t.ArticleUploadDate,postdescription:t.PostDescription,postyoutubehref:t.PostYoutubeHref,postimagefilename:t.ImageFileName})},children:"Modifier"}),Object(f.jsx)(O.a,{className:"mr-2",variant:"danger",onClick:function(){return e.deletePost(t.PostId)},children:"Supprimer"}),Object(f.jsx)(v,{show:e.state.editModalShow,onHide:d,postid:r,postname:i,postcategory:n,postarticleuploaddate:s,postdescription:c,postyoutubehref:o,postimagefilename:l})]})})]},t.PostId)}))})]})})]})]})}}]),a}(r.Component),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/categories",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({CategoryName:e.target.CategoryName.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter une cat\xe9gorie"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"CategoryName",children:[Object(f.jsx)(m.a.Label,{children:"Nom de cat\xe9gorie"}),Object(f.jsx)(m.a.Control,{type:"text",name:"CategoryName",required:!0,placeholder:"Entrez une cat\xe9gorie"})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Ajouter une cat\xe9gorie"})})]})})})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/categories",{method:"PUT",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({CategoryId:e.target.CategoryId.value,CategoryName:e.target.CategoryName.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Modifier une cat\xe9gorie"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"CategoryId",children:[Object(f.jsx)(m.a.Label,{children:"ID de cat\xe9gorie"}),Object(f.jsx)(m.a.Control,{type:"text",name:"CategoryId",required:!0,disabled:!0,defaultValue:this.props.categoryid})]}),Object(f.jsxs)(m.a.Group,{controlId:"CategoryName",children:[Object(f.jsx)(m.a.Label,{children:"Nom de cat\xe9gorie"}),Object(f.jsx)(m.a.Control,{type:"text",name:"CategoryName",required:!0,defaultValue:this.props.categoryname})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Mettre \xe0 jour"})})]})})})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),D=(a(36),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={category:[],addModalShow:!1,editModalShow:!1},r}return Object(o.a)(a,[{key:"refreshList",value:function(){var e=this;fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/categories").then((function(e){if(console.log(e),200===e.status)return e.json();throw console.log(e.status),e})).then((function(t){console.log(t),e.setState({category:t.reverse()})})).catch((function(e){console.error(e.message)}))}},{key:"componentDidMount",value:function(){this.refreshList()}},{key:"componentDidUpdate",value:function(){this.refreshList()}},{key:"deleteCategory",value:function(e){window.confirm("\xcates vous s\xfbr de vouloir supprimer ?")&&fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/categories/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){alert(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.category,r=t.categoryid,i=t.categoryname,n=function(){return e.setState({editModalShow:!1})};return Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{}),Object(f.jsxs)("div",{style:{marginTop:60,justifyContent:"center"},children:[Object(f.jsx)("h3",{children:"This is Categories page"}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-right",children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})},children:"Ajouter une cat\xe9gorie"}),Object(f.jsx)(T,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}})]})}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-left",children:Object(f.jsxs)(C.a,{className:"mt-4",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Category Id"}),Object(f.jsx)("th",{children:"Category Name"})]})}),Object(f.jsx)("tbody",{children:a.map((function(t){return Object(f.jsxs)("tr",{className:"m-2",children:[Object(f.jsx)("td",{children:t.CategoryId}),Object(f.jsx)("td",{children:t.CategoryName}),Object(f.jsx)("td",{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{className:"mr-2",variant:"info",onClick:function(){return e.setState({editModalShow:!0,categoryid:t.CategoryId,categoryname:t.CategoryName})},children:"Modifier"}),Object(f.jsx)(O.a,{className:"mr-2",variant:"danger",onClick:function(){return e.deleteCategory(t.CategoryId)},children:"Supprimer"}),Object(f.jsx)(E,{show:e.state.editModalShow,onHide:n,categoryid:r,categoryname:i})]})})]},t.CategoryId)}))})]})})]})]})}}]),a}(r.Component)),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({UtilisateurUsername:e.target.UtilisateurUsername.value,UtilisateurEmailAddress:e.target.UtilisateurEmailAddress.value,UtilisateurPassword:e.target.UtilisateurPassword.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un utilisateur"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"Utilisateur",children:[Object(f.jsx)(m.a.Label,{children:"Cr\xe9ation d'un utilisateur"}),Object(f.jsx)(m.a.Control,{type:"text",name:"UtilisateurUsername",required:!0,placeholder:"Entrez votre nom"}),Object(f.jsx)(m.a.Control,{type:"email",name:"UtilisateurEmailAddress",required:!0,placeholder:"Entrez votre adresse mail"}),Object(f.jsx)(m.a.Control,{type:"password",name:"UtilisateurPassword",required:!0,placeholder:"Entrez un mot de passe"})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Ajouter un utilisateur"})})]})})})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs",{method:"PUT",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({UtilisateurId:e.target.UtilisateurId.value,UtilisateurUsername:e.target.UtilisateurUsername.value,UtilisateurEmailAddress:e.target.UtilisateurEmailAddress.value,UtilisateurPassword:e.target.UtilisateurPassword.value})}).then((function(e){return e.json()})).then((function(e){alert(e)})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)(h.a,Object(j.a)(Object(j.a)({},this.props),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(h.a.Header,{children:Object(f.jsx)(h.a.Title,{id:"contained-modal-title-vcenter",children:"Modifier les infos d'un utilisateur"})}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{sm:6,children:Object(f.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(f.jsxs)(m.a.Group,{controlId:"UtilisateurId",children:[Object(f.jsx)(m.a.Label,{children:"ID de l'utilisateur"}),Object(f.jsx)(m.a.Control,{type:"text",name:"UtilisateurId",required:!0,disabled:!0,defaultValue:this.props.utilisateurid})]}),Object(f.jsxs)(m.a.Group,{controlId:"UtilisateurUsername",children:[Object(f.jsx)(m.a.Label,{children:"Nom de l'utilisateur"}),Object(f.jsx)(m.a.Control,{type:"text",name:"UtilisateurUsername",required:!0,defaultValue:this.props.utilisateurname})]}),Object(f.jsxs)(m.a.Group,{controlId:"UtilisateurEmailAddress",children:[Object(f.jsx)(m.a.Label,{children:"Adresse email de l'utilisateur"}),Object(f.jsx)(m.a.Control,{type:"text",name:"UtilisateurEmailAddress",required:!0,defaultValue:this.props.utilisateuremailaddress})]}),Object(f.jsxs)(m.a.Group,{controlId:"UtilisateurPassword",children:[Object(f.jsx)(m.a.Label,{children:"Entrez un  mot de passe"}),Object(f.jsx)(m.a.Control,{type:"password",name:"UtilisateurPassword",required:!0,defaultValue:this.props.utilisateurpassword})]}),Object(f.jsx)(m.a.Group,{children:Object(f.jsx)(O.a,{variant:"primary",type:"submit",children:"Mettre \xe0 jour"})})]})})})}),Object(f.jsx)(h.a.Footer,{children:Object(f.jsx)(O.a,{variant:"danger",onClick:this.props.onHide,children:"Fermer"})})]}))})}}]),a}(r.Component),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={utilisateur:[],addModalShow:!1,editModalShow:!1,UtilisateurUsername:!1},r}return Object(o.a)(a,[{key:"refreshList",value:function(){var e=this;fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs").then((function(e){if(console.log(e),200===e.status)return e.json();throw console.log(e.status),e})).then((function(t){console.log(t),e.setState({utilisateur:t.reverse()})})).catch((function(e){console.error(e.message)}))}},{key:"componentDidMount",value:function(){this.refreshList()}},{key:"componentDidUpdate",value:function(){this.refreshList()}},{key:"deletePost",value:function(e){window.confirm("\xcates vous s\xfbr de vouloir supprimer ?")&&fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){alert(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.utilisateur,r=t.utilisateurid,i=t.utilisateurname,n=t.utilisateuremailaddress,s=t.utilisateurpassword,c=function(){return e.setState({editModalShow:!1})};return Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{}),Object(f.jsxs)("div",{style:{marginTop:60,justifyContent:"center"},children:[Object(f.jsx)("h3",{children:"This is Posts page"}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-right",children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{variant:"primary",onClick:function(){return e.setState({addModalShow:!0})},children:"Ajouter un utilisateur"}),Object(f.jsx)(H,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}})]})}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-left",children:Object(f.jsxs)(C.a,{className:"mt-4",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{className:"m-2",children:[Object(f.jsx)("th",{children:"Utilisateur Id"}),Object(f.jsx)("th",{children:"Utilisateur Name"}),Object(f.jsx)("th",{children:"Utilisateur Email Address"}),Object(f.jsx)("th",{children:"Utilisateur Password "})]})}),Object(f.jsx)("tbody",{children:a.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.UtilisateurId}),Object(f.jsx)("td",{children:t.UtilisateurUsername}),Object(f.jsx)("td",{children:t.UtilisateurEmailAddress}),Object(f.jsx)("td",{children:t.UtilisateurPassword}),Object(f.jsx)("td",{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(O.a,{className:"mr-2",variant:"info",onClick:function(){return e.setState({editModalShow:!0,utilisateurid:t.UtilisateurId,utilisateurname:t.UtilisateurUsername,utilisateuremailaddress:t.UtilisateurEmailAddress,utilisateurpassword:t.UtilisateurPassword})},children:"Modifier"}),Object(f.jsx)(O.a,{className:"mr-2",variant:"danger",onClick:function(){return e.deletePost(t.UtilisateurId)},children:"Supprimer"}),Object(f.jsx)(L,{show:e.state.editModalShow,onHide:c,utilisateurid:r,utilisateurname:i,utilisateuremailaddress:n,utilisateurpassword:s})]})})]},t.UtilisateurId)}))})]})})]})]})}}]),a}(r.Component),F=function(){return Object(f.jsxs)("div",{className:"contentCss",children:[Object(f.jsx)("div",{children:Object(f.jsx)(A,{})}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-left",children:"This is HomePage"})]})},_=(a(55),function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),a=t[0],i=t[1],n=Object(r.useState)(""),s=Object(N.a)(n,2),c=s[0],o=s[1],l=Object(r.useState)(!1),d=Object(N.a)(l,2),j=d[0],u=d[1],h=function(){var e=Object(P.a)(w.a.mark((function e(t){var r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs/login",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include",body:JSON.stringify({UtilisateurEmailAddress:a,UtilisateurPassword:c})});case 3:return r=e.sent,e.next=6,r.json();case 6:"success"===(i=e.sent).message?u(!0):alert(i.message),console.log(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return j?Object(f.jsx)(k.a,{to:"/home"}):Object(f.jsx)("div",{className:"Login",children:Object(f.jsx)("main",{className:"form-signin",children:Object(f.jsxs)("form",{onSubmit:h,children:[Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",onChange:function(e){return i(e.target.value)}}),Object(f.jsx)("label",{children:"Email address"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password",onChange:function(e){return o(e.target.value)}}),Object(f.jsx)("label",{children:"Password"})]}),Object(f.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"})]})})})}),q=a(3),G=["component"],z=function(e){var t=e.component,a=Object(q.a)(e,G),i=Object(r.useState)(!1),n=Object(N.a)(i,2),s=n[0],c=n[1];function o(){return(o=Object(P.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ibrahima-aspnetcore-webapi.herokuapp.com/api/utilisateurs/user",{headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include"});case 2:return t=e.sent,console.log(t),e.next=6,t.json();case 6:return a=e.sent,console.log(a.message),"Authenticated"===a.message?c(!0):alert(a.message),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){o.apply(this,arguments)}(),Object(f.jsx)(k.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return s?Object(f.jsx)(t,Object(j.a)({},e)):Object(f.jsx)(k.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var V=function(){return Object(f.jsx)(U.a,{children:Object(f.jsxs)(k.d,{children:[Object(f.jsx)(k.b,{path:"/",component:_,exact:!0}),Object(f.jsx)(z,{path:"/home",component:F}),Object(f.jsx)(z,{path:"/posts",component:I}),Object(f.jsx)(z,{path:"/utilisateurs",component:M}),Object(f.jsx)(z,{path:"/addCategorie",component:T}),Object(f.jsx)(z,{path:"/categories",component:D}),Object(f.jsx)(k.b,{path:"*",component:function(){return Object(f.jsx)("h1",{children:"Erreur 404! D\xe9sol\xe9, cette page n'existe pas."})}})]})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(t){var a=t.getCLS,r=t.getFID,i=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),i(e),n(e),s(e)}))};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(V,{})}),document.getElementById("root")),R()}},[[56,1,2]]]);
//# sourceMappingURL=main.fdd47328.chunk.js.map